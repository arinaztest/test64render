# Base configuration for all environments
default: &default
  pool: 5                # Max number of database connections in the pool
  timeout: 5000          # Timeout for database queries (milliseconds)

# Development: SQLite3 for simplicity
development:
  <<: *default
  adapter: sqlite3
  database: storage/development.sqlite3  # DB file location


# Test: isolated database for running tests
test:
  <<: *default
  adapter: sqlite3
  database: storage/test.sqlite3

# Production: PostgreSQL on Render
# IMPORTANT:
# - Render automatically injects DATABASE_URL from the linked database
# - Do NOT add host/port/user/password manually!
production:
  adapter: postgresql
  # All connection parameters are extracted from the DATABASE_URL environment variable
  